# TravelDot - 專案規劃文件 (PLAN)

## Part I: 商業需求 (Business Requirements)

### 為什麼要投資這個專案？

#### 1. 專案目標與核心價值
**產品名稱:** TravelDot  
**Slogan:** Every Dot Tells a Story.  

**什麼是 TravelDot?**  
TravelDot 是一個「地圖式旅行日記」,讓你用最快的方式記錄旅行,並能永久優雅地回顧每個地點的回憶。

**核心價值**  
讓旅行記憶與地點產生永久連結，並能隨時優雅地回顧。我們將旅行回憶視為一項資產，透過地理資訊的媒介，為使用者打造最有溫度的「回憶容器」。

#### 2. 商業範疇
- **市場切入點**: 填補 Google Maps (功能性) 與 Instagram (社群性) 之間的空白，專注於「私人且具深度」的地圖回憶記錄。
- **目標**: 成為使用者旅行歸來後、整理回憶時的首選數位工具。

#### 3. 獲利模式
- **免費版 (Freemium)**: 
    - 開放基礎旅程與地點數量限制（如 3 個旅程 / 50 個地點）
    - 提供基礎雲端儲存空間
    
- **付費訂閱 (Premium)**: $4.99/月
    - 解鎖無限旅程與地點數量
    - 超大雲端媒體儲存空間 (100GB+)
    - 進階 AI 自動整理與描述產生功能
    - 自訂個性化分享頁面主題

#### 4. 成本預算
- **開發階段**: 
    - Firebase 免費額度 (初期)
    - Google Maps API 使用費用 (預估 $100-300/月)
    
- **營運階段**:
    - 雲端儲存與流量成本 (隨用戶增長調整)
    - 伺服器維護與擴展成本

#### 5. 預期效益
- **用戶價值**: 提升使用者對個人旅行數據的掌控權，創造有溫度的數位回憶空間
- **商業價值**: 透過高品質的分享頁面，產生自然的口碑推薦，帶動產品增長
- **長期願景**: 建立旅行記錄領域的標準化工具，成為該領域的首選解決方案

---

## Part II: 市場需求 (Market Requirements)

### 市場在哪？誰會買單？

#### 1. 市場趨勢分析
- **數位遊牧風潮興起**: 對於「移動中工作與生活」的記錄需求日益增加
- **深度旅遊興起**: 後疫情時代，深度旅遊取代走馬看花，使用者更渴望有內容、有溫度的記錄方式
- **數據主權意識**: 使用者越來越重視個人數據的掌控權與隱私保護

#### 2. 目標用戶畫像 (Persona)

**主要用戶群 A: 深度旅行者**
- **年齡**: 25-40 歲
- **特徵**: 喜歡深度探索、重視體驗品質、願意花時間整理回憶
- **痛點**: 現有工具無法同時滿足「地理視覺化」與「深度內容記錄」
- **使用場景**: 
    - 旅行當下快速記錄 (30 秒內完成)
    - 旅行後深度整理 (1 小時整理 10 天旅程)
    - 日常回顧 (10 秒內找到特定回憶)

**次要用戶群 B: 數位遊民**
- **年齡**: 28-45 歲
- **特徵**: 長期移動工作、需要記錄多個城市的生活點滴
- **痛點**: 需要更系統化的方式管理跨城市的生活記錄
- **使用場景**: 記錄工作空間、生活據點、推薦地點

**潛在用戶群 C: 家庭旅行記錄者**
- **年齡**: 30-50 歲
- **特徵**: 重視家庭回憶保存、希望為孩子留下完整的成長足跡
- **痛點**: 照片散落各處，難以系統化整理與分享
- **使用場景**: 家庭旅行記錄、親子活動軌跡

#### 3. 競爭對手分析

| 競爭對手 | 優勢 | 劣勢 | TravelDot 差異化 |
|---------|------|------|-----------------|
| **Google Maps** | 地圖功能強大、數據完整 | 缺乏故事感與回憶沈浸感 | 專注於回憶容器，而非功能工具 |
| **相簿 App** | 照片管理便利 | 以時間軸為主，難以呈現空間關係 | 地圖視覺化 + 時間軸雙模式 |
| **Instagram** | 社群分享活躍 | 側重公開展示，非私人記錄 | 私密性優先，分享為選項 |
| **Google My Maps** | 專業標記功能 | 介面冰冷，創作門檻高 | 簡化操作流程，30 秒完成記錄 |

#### 4. 產品差異化策略

**核心差異化要素:**
1. **地圖 + 回憶的完美結合**: 不只是標記地點，而是承載完整的故事與情感
2. **極速記錄體驗**: 30 秒完成一次記錄，不干擾旅行節奏
3. **智慧整理功能**: 自動讀取照片 EXIF，1 小時整理 10 天旅程
4. **優雅的分享體驗**: 產生高品質的分享頁面，適合作為個人 mini-blog

**技術差異化:**
- 地圖聚合 (Clustering) 技術，避免視覺混亂
- EXIF 自動分析與地點分組
- 離線記錄支援，有網路時自動同步

**未來擴展方向 (Phase 2):**
- **智慧化功能**: AI 自動分析 EXIF 座標並產生描述摘要
- **社群與探索**: 搜尋特定區域，參考其他用戶公開的優質行程
- **跨平台同步**: 支援從 Google Photos 或 iCloud 自動匯入素材

---

## Part III: 產品開發概述

### MVP 功能需求
#### Phase 1 - 核心功能 (優先開發)

- 地圖介面
    - **功能**
        - 使用 Google Maps JavaScript API
        - 顯示所有已記錄的地點(以 Pin 標記)
        - 支援地圖縮放與平移
        - 點擊 Pin 顯示地點預覽卡片
        - 地圖縮放時自動聚合相近的地點(避免視覺混亂)
    - **技術要求**
        - 整合 Google Maps API
        - 實作地點聚合演算法(clustering)
        - 響應式設計(手機、平板、PC都能用)
- 新增地點功能
    - **功能**
        - 搜尋地點(使用 Google Places API)
        - 使用當前位置(GPS 定位)
        - 手動在地圖上選點
        - 將地點加入當前旅程
    - **UI 設計**
        - 顯眼的「+ 新增地點」按鈕
        - 快速搜尋介面
        - 最近使用的地點建議
- 內容編輯器
    - **功能**
        - 所見即所得(WYSIWYG)文字編輯
            - 支援基本格式: 粗體、斜體、項目符號、連結
        - 照片上傳
            - 支援拖曳上傳
            - 支援批次上傳
            - 自動壓縮(保持品質)
            - 可為每張照片加 caption
        - 影片上傳 (限制 100MB)
        - 日期時間選擇
        - 標籤管理
            - 自動建議標籤(基於地點類型)
            - 可自訂標籤
        - 公開 / 私人設定
    - **介面設計參考**
        
        ```
        ┌─────────────────────────────────────┐
        │ Cafe Amazon (清邁大學分店)          │
        │ 📍 Nimmana Haeminda Rd             │
        │ 📅 2024/03/05 14:30                 │
        ├─────────────────────────────────────┤
        │                                     │
        │ [文字編輯區 - 支援基本格式]        │
        │                                     │
        │ [+ 新增照片] [+ 新增影片]          │
        │                                     │
        │ [照片縮圖1] [照片縮圖2]            │
        │ "店內環境"   "我的工作位置"        │
        │                                     │
        │ 標籤: #咖啡 #工作空間 #推薦        │
        │                                     │             │
        │                                     │
        │ 公開設定: [✓] 讓其他人可以搜尋到   │
        │                                     │
        │ [儲存] [取消]                       │
        └─────────────────────────────────────┘
        
        ```
        
    - **技術要求**
        - 使用 Rich Text Editor 套件(建議 TipTap 或 Lexical)
        - 圖片壓縮處理
        - 檔案上傳與儲存
- 旅程管理
    - **功能**
        - 建立新旅程
            - 輸入旅程名稱
            - 設定開始/結束日期
            - 上傳封面照片(選用)
        - 編輯旅程資訊
        - 刪除旅程(需確認)
        - 檢視旅程列表
        - 切換當前活躍的旅程
    - **UI 設計**
        - 旅程列表頁面
        - 每個旅程顯示: 封面、名稱、日期、地點數量
- 瀏覽模式
    - **功能**
        - 地圖模式: 以地圖視覺化呈現所有地點
        - 列表模式: 以時間軸方式列出所有地點
        - 可在兩種模式間切換
        - 支援篩選
            - 依旅程篩選
            - 依標籤篩選
            - 依日期範圍篩選
- 使用者帳號系統
    - **功能**
        - 註冊 / 登入
        - 個人資料設定
        - 密碼重設
    - **技術要求**
        - Firebase Authentication 或類似服務
        - 安全的密碼處理
- 資料匯出
    - **功能**
        - 一鍵匯出所有資料
        - 產生 ZIP 檔,包含:
            - trips.json (索引檔)
            - 各旅程的 trip.json
            - 所有照片、影片檔案
            - README.txt (說明檔案結構)
        - 顯示檔案大小預估
        - 下載進度提示
    - **技術要求**
        - 生成 ZIP 檔案
        - 處理大檔案下載

#### Phase 2 - 進階功能 (次要開發)

- 智慧化功能
    - 批次上傳照片時,自動從 EXIF 抓取:
        - GPS 座標
        - 拍攝時間
    - 自動建議地點分組
    - AI 協助生成地點描述摘要
- 多元資料匯入
    - 從 Google Photos 匯入
    - 從 iCloud 匯入
    - 匯入其他格式(GPX、KML)
- 分享功能
    - **功能**
        - 單一地點分享
            - 產生唯讀連結
            - 分享頁顯示: 地圖位置、照片、文字內容
        - 整個旅程分享
            - 產生唯讀連結
            - 分享頁類似個人 mini blog
            - 顯示地圖 + 所有地點卡片
    - **隱私控制**
        - 每個地點可單獨設定是否公開
        - 分享連結設定有效期限(選用)
    - **分享頁設計要求**
        - 乾淨、美觀的介面
        - 支援列印成 PDF
        - 響應式設計
- 社群功能
    - 搜尋某城市,查看其他用戶的公開紀錄
    - 按「熱門度」「最新」排序
    - 可收藏別人的地點推薦
    - 可複製別人的地點到自己的地圖

### 資料架構
#### 階層式結構
```
旅程 (Trip)
  └─ 目的地 (Destination)
      └─ 地點 (Place)
          └─ 記錄內容 (Memory)

```

**範例:**
- Trip: "2024 泰國之旅"
- Destination: 清邁
- Place: Cafe Amazon (清邁大學分店)
- Memory: 文字 + 照片 + 影片 + 標籤 + 評分

#### 檔案儲存結構
```
my_travel_data/
├── trips.json                    # 所有旅程的索引
├── trips/
│   ├── thailand_2024/
│   │   ├── trip.json            # 旅程詳細資料
│   │   ├── media/               # 媒體檔案
│   │   │   ├── photo_001.jpg
│   │   │   ├── photo_002.jpg
│   │   │   ├── video_001.mp4

```

#### trips.json 格式範例
```json
{
  "version": "1.0",
  "exported_at": "2024-03-20T10:30:00Z",
  "trips": [
    {
      "id": "thailand_2024",
      "title": "2024 泰國之旅",
      "start_date": "2024-03-01",
      "end_date": "2024-03-15",
      "cover_image": "trips/thailand_2024/media/cover.jpg"
    }
  ]
}
```

#### trip.json 格式範例
```json
{
  "id": "thailand_2024",
  "title": "2024 泰國之旅",
  "description": "第一次去泰國,主要在清邁待了兩週",
  "dates": {
    "start": "2024-03-01",
    "end": "2024-03-15"
  },
  "destinations": [
    {
      "id": "chiang_mai",
      "name": "清邁",
      "coordinates": {
        "lat": 18.7883,
        "lng": 98.9853
      },
      "places_count": 12
    }
  ],
  "places": [
    {
      "id": "cafe_amazon_cmu",
      "destination_id": "chiang_mai",
      "name": "Cafe Amazon (清邁大學分店)",
      "coordinates": {
        "lat": 18.8038,
        "lng": 98.9520
      },
      "address": "239 Nimmana Haeminda Rd Lane 1, Chiang Mai",
      "visited_date": "2024-03-05T14:30:00Z",
      "content": {
        "text": "很棒的工作空間,咖啡也不錯。遇到一個當地的數位遊民,聊了很多關於清邁的生活方式。",
        "media": [
          {
            "type": "photo",
            "file": "media/photo_001.jpg",
            "caption": "店內環境",
            "timestamp": "2024-03-05T14:35:00Z"
          },
          {
            "type": "photo",
            "file": "media/photo_002.jpg",
            "caption": "我的工作位置",
            "timestamp": "2024-03-05T14:40:00Z"
          }
        ]
      },
      "tags": ["咖啡", "工作空間", "推薦"],
      "rating": 5,
      "is_public": true,
      "created_at": "2024-03-05T14:30:00Z",
      "updated_at": "2024-03-05T15:00:00Z"
    }
  ]
}
```

### 技術架構建議
#### 前端技術棧
- **框架:** React + TypeScript
- **地圖:** Google Maps JavaScript API
- **編輯器:** TipTap (基於 ProseMirror,支援 WYSIWYG)
- **狀態管理:** Zustand 或 Jotai (輕量級)
- **UI 元件庫:** 建議使用 shadcn/ui 或 Material-UI
- **樣式:** Tailwind CSS

#### 後端技術棧
**選項 1 (推薦 - 快速開發):**

- Firebase
    - Authentication (帳號系統)
    - Firestore (資料庫)
    - Storage (照片/影片儲存)
    - Hosting (網站部署)

**選項 2 (長期彈性):**

- Node.js + Express
- PostgreSQL + PostGIS (處理地理查詢)
- AWS S3 或 Cloudinary (媒體儲存)

#### 資料庫結構 (如使用 Firestore)

```
users/
  {userId}/
    profile: { name, email, ... }
    trips/
      {tripId}/
        metadata: { title, dates, ... }
        places/
          {placeId}/
            data: { name, coords, content, ... }

media/
  {userId}/
    {tripId}/
      {mediaId}.jpg

```

### 設計原則
#### UX/UI 原則
1. **Less is more** - 功能簡潔易懂
2. **快速操作** - 每個動作最多 3 步驟完成
3. **視覺優先** - 地圖為主,列表為輔
4. **即時回饋** - 所有操作要有明確的視覺回饋
5. **離線友善** - 支援離線記錄,有網路時同步

#### 效能目標
- 地圖載入時間 < 2 秒
- 照片上傳後顯示 < 1 秒
- 搜尋地點回應 < 0.5 秒
- 地點聚合渲染 < 0.3 秒

#### 響應式設計
- 支援手機
- 支援桌面
- 支援平板